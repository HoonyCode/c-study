## 목표
구조체에 대해서 알아보자

## 학습할 것
- 구조체란?
- 구조체 장점
- 구조체를 정의하는 방법
- 공용체(union)이란
- 열거형(enum)이란

## 스터디 일시
2021년 10월 08일 오후 6시

## 목차
- [구조체란?](#구조체란)
- [구조체의 장점](#구조체의-장점)
- [구조체를 정의하는 방법](#구조체를-정의하는-방법)
- [공용체(union) 이란?](#공용체union-이란)
- [열거형(enum) 이란?](#열거형enum-이란)
- [숙제](#숙제)

#

### 구조체란?
- 구조체 `struct` 란 사용자가 C언어의 기본 타입을 가지고 새롭게 정의할 수 있는 사용자 정의 타입을 말한다.
- 배열이 같은 타입의 변수 집합이라고 한다면, 구조체는 다양한 타입의 변수 집합을 하나의 타입으로 나태낸 것이다.
- 구조체를 구성하는 변수를 구조체의 멤버(member) 또는 멤버 변수(member variable)라고 한다.


### 구조체의 장점
- 통계자료나 성적 등과 같은 관련 있는 서로 다른 자료형을 한덩어리(집합)로 만들어서 처리할 수 있다
```C
struct data{
    char[10] name;
    int score;
    char grade;
};
```
- 위 그림과 같이 이름, 점수, 등급을 한 덩이리로 만들어 처리 할 수 있다.
- 연관 있는 데이터를 한 덩어리로 묶으면 프로그램 관리와 구현이 용이하다.
- 순서대로 정렬(sort)하는 경우 구조체 단위로 처리되므로 간단하다
- 네트워크 프로그램을 작성할 때 소켓이나 헤더(header)의 format(형식)을 구조체로 묶어서 처리할 수 있다.
- 함수를 반환할 떄 한 개의 데이터가 아닌 구조체 단위로 묶어서 전달 할 수 있다.


### 구조체를 정의하는 방법

> 구조체는 struct 키워드를 사용하여 다음과 같이 정의한다.
```C
struct 구조체이름{
    멤버변수1의타입 멤버변수1의 이름;
    멤버변수2의타입 멤버변수2의 이름;
    ...
};
```
- `struct`라는 키워드를 사용하여 구조체의 시작을 알리고, 구조체 이름으로 구조체를 정의할 수 있다.
- 중괄로 사이에는 멤버 변수를 정의한다.
- 세미콜로은 구조체 정의를 종료한다는 의미이다.
- 이렇게 정의된 구조체는 사용자 정의 자료형이라고 한다.

> 정의된 구조체 타입을 구조체 변수로 선언하는 방법
```C
struct 구조체이름 구조체변수이름;
```
```C
//예제
struct Book{
    int num; //책 고유 번호
    int char[30]; //책 이름
    int price; //책 가격
};
struct Book my_book;
```

> 구조체 정의와 구조체 변수의 선언을 동시에 할 수 도 있다.

```C
struct 구조체이름{
    멤버변수1의타입 멤버변수1의 이름;
    멤버변수2의타입 멤버변수2의 이름;
    ...
}구조체변수이름;
```

> typedef 키워드
- C언어의 typedef 키워드는 이미 존재하는 타입에 새로운 이름을 붙일 때 사용한다.
- 구조체 변수를 선언하거나 사용할 때는 매번 struct 키워드를 사용하여 구조체임을 명시해야 하는데 typedef 키워드를 사용하여 구조체에 새로운 이름을 선언하면 매번 struct 키워드를 사용하지 않아도 된다.

```C
typedef struct 구조체이름 구조체의새로운이름;
```
```C
typedef struct 구조체이름{
    멤버변수1의타입 멤버변수1의 이름;
    멤버변수2의타입 멤버변수2의 이름;
    ...
}구조체의새로운아름;
```

> 구조체 멤버변수 접근방법

- 배열에서는 인덱스를 이용하여 배열 요소에 접근할 수 있다.
- 구조체에서는 구조체 멤버로 접급하려고 할 떄 멤버 연산자 (.)를 사용해야 한다.

```C
구조체변수이름.멤버변수이름
```
예제
```C
my_book.name
```

### 공용체(union) 이란?
- 공용체(union)는 `union` 키워드를 사용하여 선언하며, 한 가지를 제외하면 모든 면에서 구조체와 같다
- 다른점은 모든 멤버 변수가 하나의 메모리 공간을 공유한다는 점만 다르다.
- 모든 멤버 변수가 같은 메모리를 공유하므로, 공용체는 한 번에 하나의 멤버 변수밖에 사용할 수 없다.

- 차이점
![image](https://user-images.githubusercontent.com/44612896/135801473-667b9cdc-fc55-4e12-816c-f7ad08197c43.png)
- ref : http://tcpschool.com/c/c_struct_unionEnum

- 공용체는 순서가 규칙적이지 않고, 미리 알 수 없는 다양한 타입의 데이터를 저장할 수 있도록 설계된 타입이다
- 따라서 공용체 배열을 사용하면, 같은 크기로 구성된 다양한 크기의 데이터를 저장할 수 있다.

> 공용체(union)을 선언하는 방법
```C
union 공용체이름{
    멤버변수1의타입 멤버변수1의 이름;
    멤버변수2의타입 멤버변수2의 이름;
};
```

> 공용체(union)을 사용하는 이유?
- 공용체로 정의한 변수는 하나의 메모리 공간을 여러 방식으로 접근할 수 있다.
- 즉 메모리는 공유하고 싶은데 들어가서 다르게 해석하고 싶을 떄 사용할 수 있다.

예를 들어서
- 메모리 100바이트 먹는 자료구조를 union을 써서 90바이트로 만들수 있다면 그런 자료구조를 나중에 100만개 다뤄야하는 날이 왔을떄, 1천만 바이트를 아낄 수 있을 것이다.



### 열거형(enum) 이란?
- 열거체(enumerated types)는 새로운 타입을 선언하면서, 동시에 해당 타입이 가질 수 있는 정수형 상숫값도 같이 명시할 수 있는 타입이다.

```C
enum Weather {
    SUNNY = 0, CLOUD = 10, RAIN = 20, SNOW = 30
    };  
int main(void){
    enum Weather wt;  
    wt = SUNNY;  

    switch (wt){
        case SUNNY:
            puts("오늘은 햇볕이 쨍쨍!");
            break;
        case CLOUD:
            puts("비가 올락말락하네요!");
            break;
        case RAIN:
            puts("비가 내려요.. 우산 챙기세요!");
            break;
        case SNOW:
            puts("오늘은 눈싸움하는 날!");
            break;
        default: puts("도대체 무슨 날씨인건가요!!!");
    }  

    puts("각각의 열거체에 해당하는 정수값은 다음과 같습니다.");

    printf("%d %d %d %d\n", SUNNY, CLOUD, RAIN, SNOW);

    return 0;

}
```

- C언어에서 열거체는 `enum` 키워드를 사용하여 선언한다.
- 위의 예제처럼 사용자가 별도로 각 멤버에 해당하는 상숫값을 명시할 수 있다.
- 상숫값을 따로 명시하지 않으면 0부터 시작되며, 그 다음 멤버의 값은 바로 앞 멤버의 값보다 1만큼 증가되며 정의된다.




### 숙제
- 별찍기 완료
- 자기소개 만들기

![image](https://user-images.githubusercontent.com/44612896/136339821-c77c0efa-f073-4b3b-8070-3d4e583e99aa.png)